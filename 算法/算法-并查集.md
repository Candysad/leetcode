```python
def find(woods:List, node:int):
    # 找一颗树的根节点
    while woods[node] != node:
        node = woods[node]
    return node

def merge(woods:List, node1:int, node2:int):
    # 找两棵树的根，把更小的作为新的根
    root1 = find(woods, node1)
    root2 = find(woods, node2)
    if root1 < root2:
        woods[root2] = root1
    else:
        woods[root1] = root2

def optim(woods:List):
    # 把每个节点的父节点直接更新到所在树的根
    for i in range(len(woods)):
        woods[i] = find(i)
```

2368
